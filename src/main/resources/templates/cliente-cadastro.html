<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}" th:with="link=${editMode} ? @{/cliente/home} : @{/}">
    <body>
        <div id="clienteCadastro" layout:fragment="content">
            <div class="conteiner centralizarConteudo">
                <h1>Cadastro de Cliente</h1>

                <div class="mensagemDeSucesso" th:if="${msg} != null">
                    <span th:text="${msg}"></span>
                </div>
                <br/>

                <form method="POST" th:object="${cliente}" th:action="${!editMode} ? @{/public/cliente/save} : @{/cliente/save}">
                    <fieldset>
                        <input type="hidden" name="id" th:field="*{id}"/>
                        
                        <label for="nome">Nome:</label>
                        <input type="text" id="nome" name="nome" placeholder="Nome..." th:field="*{nome}" th:classappend="${#fields.hasErrors('nome')} ? 'inputErro' : ''" />
						<div class="mensagemDeErro" th:if="${#fields.hasErrors('nome')}">
                            <span th:errors="*{nome}"></span>
                        </div>
                        <br/>
						
                        <label for="cpf">CPF:</label>
                        <input type="text" id="cpf" name="cpf" placeholder="CPF..." th:field="*{cpf}" th:classappend="${#fields.hasErrors('cpf')} ? 'inputErro' : ''" />
						<div class="mensagemDeErro" th:if="${#fields.hasErrors('cpf')}">
                            <span th:errors="*{cpf}"></span>
                        </div>
                        <br/>
						
                        <label for="email">E-mail</label>
                        <input type="email" id="email" name="email" placeholder="E-mail..." th:field="*{email}" th:classappend="${#fields.hasErrors('email')} ? 'inputErro' : ''" />
						<div class="mensagemDeErro" th:if="${#fields.hasErrors('email')}">
                            <span th:errors="*{email}"></span>
                        </div>
                        <br/>
						
                        <label for="telefone">Telefone:</label>
                        <input type="tel" id="telefone" name="telefone" placeholder="Telefone..." th:field="*{telefone}" th:classappend="${#fields.hasErrors('telefone')} ? 'inputErro' : ''" />
						<div class="mensagemDeErro" th:if="${#fields.hasErrors('telefone')}">
                            <span th:errors="*{telefone}"></span>
                        </div>
                        <br/>
						
                        <label for="cep">CEP:</label>
                        <input type="text" id="cep" name="cep" placeholder="CEP..." th:field="*{cep}" th:classappend="${#fields.hasErrors('cep')} ? 'inputErro' : ''" />
						<div class="mensagemDeErro" th:if="${#fields.hasErrors('cep')}">
                            <span th:errors="*{cep}"></span>
                        </div>
                        <br/>
						
						<div class="divFieldForm" th:if="${!editMode}">
	                        <label for="senha">Senha:</label>
	                        <input type="password" id="senha" name="senha" placeholder="Senha..." th:field="*{senha}" th:classappend="${#fields.hasErrors('senha')} ? 'inputErro' : ''" />
							<div class="mensagemDeErro" th:if="${#fields.hasErrors('senha')}">
	                            <span th:errors="*{senha}"></span>
	                        </div>
	                        <br/>
                        </div>
                        <input type="hidden" name="senha" value="******" th:if="${editMode}" /> <!-- campo criado para não deixar o campo de senha vazio quando o form for de alteração (editMode). -->
                        
						<br/>

                        <input type="submit" th:value="${!editMode} ? 'Cadastrar' : 'Alterar'" />
                    </fieldset>
                </form>
                <br/>

                <a class="button" th:href="${!editMode} ? @{/} : @{/cliente/home}">Voltar</a>
            </div>
        </div>
    </body>
</html>